// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten

package me.rahimklaber.stellar.base.xdr


/**
 * TransactionV1Envelope's original definition in the XDR file is:
 * ```
 * struct TransactionV1Envelope
{
Transaction tx;
/* Each decorated signature is a signature over the SHA256 hash of
 * a TransactionSignaturePayload */
DecoratedSignature signatures<20>;
};
 * ```
 */
data class TransactionV1Envelope(
    val tx: Transaction,
    val signatures: List<DecoratedSignature>,
) : XdrElement {
    override fun encode(stream: XdrOutputStream) {
        tx.encode(stream)
        val signaturesSize = signatures.size
        stream.writeInt(signaturesSize)
        signatures.encodeXdrElements(stream)
    }

    companion object : XdrElementDecoder<TransactionV1Envelope> {
        override fun decode(stream: XdrInputStream): TransactionV1Envelope {
            val tx = Transaction.decode(stream)
            val signaturesSize = stream.readInt()
            val signatures: List<DecoratedSignature> = decodeXdrElementsList(signaturesSize, stream, DecoratedSignature.decoder())
            return TransactionV1Envelope(
                tx,
                signatures,
            )
        }
    }
}
