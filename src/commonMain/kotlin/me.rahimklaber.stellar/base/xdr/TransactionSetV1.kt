// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten

package me.rahimklaber.stellar.base.xdr


/**
 * TransactionSetV1's original definition in the XDR file is:
 * ```
 * struct TransactionSetV1
{
Hash previousLedgerHash;
TransactionPhase phases<>;
};
 * ```
 */
data class TransactionSetV1(
    val previousLedgerHash: Hash,
    val phases: List<TransactionPhase>,
) : XdrElement {
    override fun encode(stream: XdrOutputStream) {
        previousLedgerHash.encode(stream)
        val phasesSize = phases.size
        stream.writeInt(phasesSize)
        phases.encodeXdrElements(stream)
    }

    companion object : XdrElementDecoder<TransactionSetV1> {
        override fun decode(stream: XdrInputStream): TransactionSetV1 {
            val previousLedgerHash = Hash.decode(stream)
            val phasesSize = stream.readInt()
            val phases: List<TransactionPhase> = decodeXdrElementsList(phasesSize, stream, TransactionPhase.decoder())
            return TransactionSetV1(
                previousLedgerHash,
                phases,
            )
        }
    }
}
